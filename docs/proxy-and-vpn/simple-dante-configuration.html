<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configure Dante SOCKS-server to Access Blocked Web-services | Maxie’s Notes</title>
    <meta name="description" content="Maksim Shkrebtan’s personal documentation website">
    
    
    <link rel="preload" href="/assets/css/0.styles.b194f207.css" as="style"><link rel="preload" href="/assets/js/app.d0b7e700.js" as="script"><link rel="preload" href="/assets/js/2.c0b406d4.js" as="script"><link rel="preload" href="/assets/js/20.5bb2540f.js" as="script"><link rel="prefetch" href="/assets/js/10.b88f0e0b.js"><link rel="prefetch" href="/assets/js/11.f3c56041.js"><link rel="prefetch" href="/assets/js/12.0b5d4865.js"><link rel="prefetch" href="/assets/js/13.1e136ed7.js"><link rel="prefetch" href="/assets/js/14.2ebc72d8.js"><link rel="prefetch" href="/assets/js/15.15e55c6f.js"><link rel="prefetch" href="/assets/js/16.4b750a11.js"><link rel="prefetch" href="/assets/js/17.2a5b1028.js"><link rel="prefetch" href="/assets/js/18.f79725e1.js"><link rel="prefetch" href="/assets/js/19.1e25a266.js"><link rel="prefetch" href="/assets/js/21.8577bc86.js"><link rel="prefetch" href="/assets/js/22.09c3b1f5.js"><link rel="prefetch" href="/assets/js/3.b55dd050.js"><link rel="prefetch" href="/assets/js/4.6274c397.js"><link rel="prefetch" href="/assets/js/5.627bbf16.js"><link rel="prefetch" href="/assets/js/6.6d13ddcc.js"><link rel="prefetch" href="/assets/js/7.d9b83743.js"><link rel="prefetch" href="/assets/js/8.b17936b7.js"><link rel="prefetch" href="/assets/js/9.509baf76.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b194f207.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Maxie’s Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/proxy-and-vpn/simple-dante-configuration.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/ru/" class="nav-link">Русский</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/proxy-and-vpn/simple-dante-configuration.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/ru/" class="nav-link">Русский</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Kindle</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Privacy</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Proxy &amp; VPN</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/proxy-and-vpn/configure-socks-proxy-on-ios-with-pac.html" class="sidebar-link">Configure SOCKS Proxy on iOS with PAC</a></li><li><a href="/proxy-and-vpn/simple-dante-configuration.html" class="active sidebar-link">Configure Dante SOCKS-server to Access Blocked Web-services</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/proxy-and-vpn/simple-dante-configuration.html#install-dante-—-a-free-socks-server" class="sidebar-link">Install Dante — a free SOCKS server</a></li><li class="sidebar-sub-header"><a href="/proxy-and-vpn/simple-dante-configuration.html#configure-dante-server" class="sidebar-link">Configure Dante server</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/proxy-and-vpn/simple-dante-configuration.html#basic-configuration" class="sidebar-link">Basic configuration</a></li><li class="sidebar-sub-header"><a href="/proxy-and-vpn/simple-dante-configuration.html#freedom-to-telegram" class="sidebar-link">Freedom to Telegram</a></li><li class="sidebar-sub-header"><a href="/proxy-and-vpn/simple-dante-configuration.html#access-to-blocked-websites" class="sidebar-link">Access to blocked websites</a></li><li class="sidebar-sub-header"><a href="/proxy-and-vpn/simple-dante-configuration.html#blocking-the-rest" class="sidebar-link">Blocking the rest</a></li></ul></li><li class="sidebar-sub-header"><a href="/proxy-and-vpn/simple-dante-configuration.html#references" class="sidebar-link">References</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>macOS</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="configure-dante-socks-server-to-access-blocked-web-services"><a href="#configure-dante-socks-server-to-access-blocked-web-services" aria-hidden="true" class="header-anchor">#</a> Configure Dante SOCKS-server to Access Blocked Web-services</h1> <h2 id="install-dante-—-a-free-socks-server"><a href="#install-dante-—-a-free-socks-server" aria-hidden="true" class="header-anchor">#</a> Install Dante — a free SOCKS server</h2> <p>On a Debian/Ubuntu server, the simplest way is to install from the repos:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo apt install dante-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Another way is to install the precompiled binaries from here:</p> <p><a href="https://www.inet.no/dante/sslfiles/binaries.html" target="_blank" rel="noopener noreferrer">https://www.inet.no/dante/sslfiles/binaries.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="configure-dante-server"><a href="#configure-dante-server" aria-hidden="true" class="header-anchor">#</a> Configure Dante server</h2> <p>Dante server configuration is stored in file <code>/etc/danted.conf</code>.</p> <p>Below is an example of simple configuration, without authentication and with a
“list” of allowed services and websites. So anyone from the Internet can
connect to this server and use it to proxy requests to the “white listed”
websites. Helping to bring freedom to the Internet!</p> <h3 id="basic-configuration"><a href="#basic-configuration" aria-hidden="true" class="header-anchor">#</a> Basic configuration</h3> <p>First comes a basic global configuration:</p> <div class="language-conf line-numbers-mode"><pre class="language-text"><code>errorlog: /var/log/sockd.errlog
logoutput: /var/log/sockd.log

internal: 0.0.0.0 port = 1080
external: eth0

user.notprivileged: socks

clientmethod: none
socksmethod: none

# allow any client connection
client pass {
  from: 0.0.0.0/0 port 1-65535 to: 0.0.0.0/0
}

# Allow any requests to any DNS
socks pass {
  from: 0.0.0.0/0 to: 0.0.0.0/0 port = 53
  proxyprotocol: socks_v5
}

# deny proxied to lo
socks block {
  from: 0.0.0.0/0 to: 127.0.0.0/8
}

# deny binding
socks block {
  from: 0.0.0.0/0 to: 0.0.0.0/0
  command: bind
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="freedom-to-telegram"><a href="#freedom-to-telegram" aria-hidden="true" class="header-anchor">#</a> Freedom to Telegram</h3> <p>Below is a configuration snippet to proxy requests to Telegram. Useful for those
who use Telegram in the countries that block it.</p> <div class="language-conf line-numbers-mode"><pre class="language-text"><code># Allow any requests to the Telegram subnets:
# 91.108.4.0/22
# 91.108.8.0/22
# 91.108.12.0/22
# 91.108.16.0/22
# 91.108.56.0/22
# 91.108.56.0/23
# 91.108.56.0/24
# 149.154.160.0/20
# 149.154.160.0/22
# 149.154.164.0/22
# 149.154.168.0/22
# 149.154.168.0/23
# 149.154.170.0/23

socks pass {
  from: 0.0.0.0/0 to: 91.108.4.0/22
  proxyprotocol: socks_v5
}
socks pass {
  from: 0.0.0.0/0 to: 91.108.8.0/22
  proxyprotocol: socks_v5
}
socks pass {
  from: 0.0.0.0/0 to: 91.108.12.0/22
  proxyprotocol: socks_v5
}
socks pass {
  from: 0.0.0.0/0 to: 91.108.16.0/22
  proxyprotocol: socks_v5
}
socks pass {
  from: 0.0.0.0/0 to: 91.108.56.0/22
  proxyprotocol: socks_v5
}
socks pass {
  from: 0.0.0.0/0 to: 149.154.160.0/20
  proxyprotocol: socks_v5
}
socks pass {
  from: 0.0.0.0/0 to: 149.154.164.0/20
  proxyprotocol: socks_v5
}
socks pass {
  from: 0.0.0.0/0 to: 149.154.168.0/20
  proxyprotocol: socks_v5
}
socks pass {
  from: 0.0.0.0/0 to: 149.154.170.0/20
  proxyprotocol: socks_v5
}

# Allow any requests to the Telegram websites
socks pass {
  from: 0/0 to: .telegram.org
  proxyprotocol: socks_v5
}
socks pass {
  from: 0/0 to: .tdesktop.com
  proxyprotocol: socks_v5
}
socks pass {
  from: 0/0 to: .t.me
  proxyprotocol: socks_v5
}

# Enable for Telegram peer-to-peer calls via UDP
socks pass {
  from: 0.0.0.0/0 to: 0.0.0.0/0
  command: udpassociate udpreply
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><h3 id="access-to-blocked-websites"><a href="#access-to-blocked-websites" aria-hidden="true" class="header-anchor">#</a> Access to blocked websites</h3> <p>Here is an example on how to allow requests to specific websites:</p> <div class="language-conf line-numbers-mode"><pre class="language-text"><code>socks pass {
  from: 0.0.0.0/0 to: .linkedin.com
  proxyprotocol: socks_v5
}

socks pass {
  from: 0.0.0.0/0 to: www.spotify.com
  proxyprotocol: socks_v5
}

socks pass {
  from: 0.0.0.0/0 to: .last.fm
  proxyprotocol: socks_v5
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="blocking-the-rest"><a href="#blocking-the-rest" aria-hidden="true" class="header-anchor">#</a> Blocking the rest</h3> <p>Finally, block all the other requests:</p> <div class="language-conf line-numbers-mode"><pre class="language-text"><code># deny the rest
socks block {
  from: 0.0.0.0/0 to: 0.0.0.0/0
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="references"><a href="#references" aria-hidden="true" class="header-anchor">#</a> References</h2> <ul><li><p>Dante - Documentation</p> <p><a href="https://www.inet.no/dante/doc/1.4.x/index.html" target="_blank" rel="noopener noreferrer">https://www.inet.no/dante/doc/1.4.x/index.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>Telegram calls via Dante socks5 proxy server not working - Stack Overflow</p> <p><a href="https://stackoverflow.com/questions/49855516/telegram-calls-via-dante-socks5-proxy-server-not-working" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/49855516/telegram-calls-via-dante-socks5-proxy-server-not-working<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <br> <!----> <br> <div style="text-align:center;font-size:x-small;">
    Allow loading scripts from disqus.com to see the comments.
</div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">10/07/2019, 21:30:32</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/proxy-and-vpn/configure-socks-proxy-on-ios-with-pac.html" class="prev">
          Configure SOCKS Proxy on iOS with PAC
        </a></span> <span class="next"><a href="/linux/change-intel-i915-s-pwm-frequency-on-boot.html">
          Change Intel i915's PWM Frequency on Boot
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d0b7e700.js" defer></script><script src="/assets/js/2.c0b406d4.js" defer></script><script src="/assets/js/20.5bb2540f.js" defer></script>
  </body>
</html>
